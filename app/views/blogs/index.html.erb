<%= render "shared/second-header" %>

<div class="blog-toppage">
   <%= render "shared/side_bar_hidden" %>

  <h1 class="blog-title">カレンダー</h1>

  <div class=" blog-wrap">
    <div class="blog-input-area">  <%# 予定入力エリア %>

      <div class="blog-schedule">今後の予定一覧</div>
      <table class="blog-table">

        <thead class="thead-light">
          <tr>
            <th>タイトル</th>
            <th>日程</th>
          </tr>
        </thead>

        <tbody>
          <% @blogs.each do |blog| %>
            <tr>
              <td><%= link_to blog.blog_title, blog %></td>
              <td><%= blog.start_time.strftime("%-m/%-d") %></td>
            </tr>
          <% end %>
        </tbody>
      </table>

      <%= form_with(model: @blog, local: true) do |form| %>
        <div class="blog-title">
          <div class="blog-form-tag">タイトル(5文字以内)</div>
          <%= form.text_area :blog_title, rows: 1, style: 'resize: none;', maxlength:"5"  %>
        </div>

        <div class="blog-content">
          <div class="blog-form-tag">内容(20文字以内)</div>
          <%= form.text_area :blog_text, rows: 3, maxlength:"20"  %>
        </div>

        <div class="blog-time">
          <div class="blog-form-tag">時間</div>
          <%= form.date_select :start_time, class: 'your-css-class' %>
        </div>

        
          <%= form.submit "登録する" ,class: "blog-submit-btn"%>
        
      <% end %>
    </div>

    <div class="blog-view-area"> <%# カレンダー表示エリア %>
      <%= month_calendar events: @blogs do |date, blogs| %>
        <%= date.day %>

      <div class="blog-view-title">
        <% blogs.each do |blog| %>
          <div>
            <%= link_to blog.blog_title, blog %>
          </div>
        <% end %>
      <% end %>
      </div>
    </div>
  </div>
</div>

<%= render "shared/second-footer" %>